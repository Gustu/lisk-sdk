{
	"title": "Invalid block processing",
	"summary": "An invalid block with a multisignature registration and transfer from that account on same block",
	"config": "mainnet",
	"runner": "block_processing_multisignatures",
	"handler": "invalid_block_processing_transfer_from_multisignature_account_on_same_block_as_registration",
	"testCases": {
		"initialState": {
			"chain": [
				{
					"version": 1,
					"totalAmount": "10000000000",
					"totalFee": "10000000",
					"reward": "0",
					"timestamp": 10,
					"numberOfTransactions": 1,
					"payloadLength": 117,
					"previousBlock": "14267700672246591925",
					"generatorPublicKey": "6fdfafcd8206c179d351baac5dc104a5ff46453e9d7f27f3e28ef38fc93d7799",
					"transactions": [
						{
							"id": "4975693002424736598",
							"amount": "10000000000",
							"type": 0,
							"timestamp": 102702700,
							"senderPublicKey": "d13a2659f908146f099da29216a18fd7f845b4e1455087b1a4bced79b6fefadf",
							"senderId": "11036225455433466506L",
							"recipientId": "7917418729031818208L",
							"fee": "10000000",
							"signature": "457e4084462b3478e7606f8b7e6045e2beeaea4cef576a87df3b046b87c6fa9aa864c11a4b2bd086b683d42c14bb944181f789a84c8a60ed3dd694c67f6e7602",
							"signatures": [],
							"asset": {}
						}
					],
					"payloadHash": "565bec606c360d45487bf312d6d6f5c05c517e20c10db163f0a9fc429e4b8d4b",
					"blockSignature": "023a5dc0b25761931ad4ead6b1595b783f5ddfaa2e021bb86f9a8a1fd5a3e1856479e2ab3b7f1dd98dce304dfd8630cb49f4e5ac75098c9a6c16bb779bba7a0a",
					"height": 2
				},
				{
					"version": 1,
					"totalAmount": "3000000000",
					"totalFee": "10000000",
					"reward": "0",
					"timestamp": 20,
					"numberOfTransactions": 1,
					"payloadLength": 117,
					"generatorPublicKey": "6fdfafcd8206c179d351baac5dc104a5ff46453e9d7f27f3e28ef38fc93d7799",
					"transactions": [
						{
							"id": "6419243397998919037",
							"amount": "3000000000",
							"type": 0,
							"timestamp": 102702700,
							"senderPublicKey": "6fdfafcd8206c179d351baac5dc104a5ff46453e9d7f27f3e28ef38fc93d7799",
							"senderId": "7917418729031818208L",
							"recipientId": "2222471382442610527L",
							"fee": "10000000",
							"signature": "dd3fbae525b6876313de327e932491127b68d889fac567dac5ca76efe3e2e55d63251ac038da0a43166239b91dc3618f57a7bcf015b64abd08984b31facd3d09",
							"signatures": [],
							"asset": {}
						}
					],
					"payloadHash": "7d3d7f20dcbb1559f32b3c2e18b093d484d9d8121d2482f91c0cfdd8f9a6d813",
					"blockSignature": "6476623a07d311db6386e46d6bfaa7314c79d98d8037ae5b6a5e9ea2db0572de97ed8f837253da8479c586fa57edb147aacd12fbf7338ec0c31b565270d8ca0f",
					"height": 3
				}
			]
		},
		"input": [
			{
				"version": 1,
				"totalAmount": "700000000",
				"totalFee": "1510000000",
				"reward": "0",
				"timestamp": 30,
				"numberOfTransactions": 2,
				"payloadLength": 366,
				"generatorPublicKey": "6fdfafcd8206c179d351baac5dc104a5ff46453e9d7f27f3e28ef38fc93d7799",
				"transactions": [
					{
						"id": "23093260609817106",
						"amount": "700000000",
						"type": 0,
						"timestamp": 102702700,
						"senderPublicKey": "caff2242b740a733daa3f3f96fc1592303b60c1704a8ac626e2704da039f41ee",
						"senderId": "2222471382442610527L",
						"recipientId": "7917418729031818208L",
						"fee": "10000000",
						"signature": "178adf21dd9ddeb9de5a2a901d81bb4b418a2918d3bdca07f9ea64dd40d7451ad72f4fe7b4acc65eb600e560a84c058457c56093a3c1cb3a12eb11f7c26ee504",
						"signatures": [
							"e39af28709583114a2775612b72633fab83f3168529021430b60d67722ba7fdc57f72853fe871b05408b38a5c67075401dff1c338a2d0e2551a91416546d1306",
							"bc914ab9874e87e2e270db56fdf96117592a456246180ea35447afb7eca7d398989b42eb75df63759cd851e7e8282d8e05657ec1ab786f90e49b1971e141d507"
						],
						"asset": {}
					},
					{
						"id": "13583421558973490948",
						"amount": "0",
						"type": 4,
						"timestamp": 102702700,
						"senderPublicKey": "caff2242b740a733daa3f3f96fc1592303b60c1704a8ac626e2704da039f41ee",
						"senderId": "2222471382442610527L",
						"recipientId": "",
						"fee": "1500000000",
						"signature": "55455f4203b11c6f944668a86660beb60ae21b44c639c3b361e6ba8d080a9068251ea835bd27d8df1d4632b6b7cf0a9df4cda4e45998cbac5e0c327d8c44aa0b",
						"signatures": [
							"19b3a6097b66d4438b4e07d31dee7012139d320bef3c34eae9cea11c7888ac2522ae5fdaf56df60d1064fd413c66e16b17819e22c5f7b1c21f25fc617bacc805",
							"af80fb79dbdffc40543deca5734e66bb0e412be7c23d8c4ef4fc6981bcebee5e8e390d38cd5cb4486daf12b7396b6c7a941d8a1f5e57fb8e61c65e6d1f9bbd0a"
						],
						"asset": {
							"multisignature": {
								"min": 2,
								"lifetime": 1,
								"keysgroup": [
									"+bed1c99f4a99cd584e886c80b300ef18e9d4265b5158e805bfdb609a77bd163f",
									"+a3642d1c4605499182e5081f864b5a6f1584df336d2f2c3e49b197cbd1f36d78"
								]
							}
						}
					}
				],
				"payloadHash": "ad44e877f8f157268c655493813ddc869e7afd6a5e22e6d874e43d5fe9dba482",
				"blockSignature": "2bb6f66a664f9048549cdf43d4dfd6690a2c57d415685b89e4f43f5f43063214a67b2d69b515aab969bfc1dd9fb81c8636fa3999ef3093951d332d9331fa7b01",
				"height": 4
			}
		],
		"output": {
			"chain": [
				{
					"version": 1,
					"totalAmount": "10000000000",
					"totalFee": "10000000",
					"reward": "0",
					"timestamp": 10,
					"numberOfTransactions": 1,
					"payloadLength": 117,
					"previousBlock": "14267700672246591925",
					"generatorPublicKey": "6fdfafcd8206c179d351baac5dc104a5ff46453e9d7f27f3e28ef38fc93d7799",
					"transactions": [
						{
							"id": "4975693002424736598",
							"amount": "10000000000",
							"type": 0,
							"timestamp": 102702700,
							"senderPublicKey": "d13a2659f908146f099da29216a18fd7f845b4e1455087b1a4bced79b6fefadf",
							"senderId": "11036225455433466506L",
							"recipientId": "7917418729031818208L",
							"fee": "10000000",
							"signature": "457e4084462b3478e7606f8b7e6045e2beeaea4cef576a87df3b046b87c6fa9aa864c11a4b2bd086b683d42c14bb944181f789a84c8a60ed3dd694c67f6e7602",
							"signatures": [],
							"asset": {}
						}
					],
					"payloadHash": "565bec606c360d45487bf312d6d6f5c05c517e20c10db163f0a9fc429e4b8d4b",
					"blockSignature": "023a5dc0b25761931ad4ead6b1595b783f5ddfaa2e021bb86f9a8a1fd5a3e1856479e2ab3b7f1dd98dce304dfd8630cb49f4e5ac75098c9a6c16bb779bba7a0a",
					"height": 2
				},
				{
					"version": 1,
					"totalAmount": "3000000000",
					"totalFee": "10000000",
					"reward": "0",
					"timestamp": 20,
					"numberOfTransactions": 1,
					"payloadLength": 117,
					"generatorPublicKey": "6fdfafcd8206c179d351baac5dc104a5ff46453e9d7f27f3e28ef38fc93d7799",
					"transactions": [
						{
							"id": "6419243397998919037",
							"amount": "3000000000",
							"type": 0,
							"timestamp": 102702700,
							"senderPublicKey": "6fdfafcd8206c179d351baac5dc104a5ff46453e9d7f27f3e28ef38fc93d7799",
							"senderId": "7917418729031818208L",
							"recipientId": "2222471382442610527L",
							"fee": "10000000",
							"signature": "dd3fbae525b6876313de327e932491127b68d889fac567dac5ca76efe3e2e55d63251ac038da0a43166239b91dc3618f57a7bcf015b64abd08984b31facd3d09",
							"signatures": [],
							"asset": {}
						}
					],
					"payloadHash": "7d3d7f20dcbb1559f32b3c2e18b093d484d9d8121d2482f91c0cfdd8f9a6d813",
					"blockSignature": "6476623a07d311db6386e46d6bfaa7314c79d98d8037ae5b6a5e9ea2db0572de97ed8f837253da8479c586fa57edb147aacd12fbf7338ec0c31b565270d8ca0f",
					"height": 3
				}
			],
			"accounts": [
				[
					{
						"address": "11036225455433466506L",
						"publicKey": "d13a2659f908146f099da29216a18fd7f845b4e1455087b1a4bced79b6fefadf",
						"balance": "989990000000",
						"secondSignature": 0,
						"isDelegate": 0,
						"vote": "0",
						"multimin": 0,
						"multilifetime": 0,
						"nameexist": 0,
						"producedBlocks": 0,
						"missedBlocks": 0,
						"fees": "0",
						"rewards": "0",
						"asset": {},
						"voteWeight": "0"
					},
					{
						"username": "genesis_100",
						"isDelegate": 1,
						"secondSignature": 0,
						"address": "7917418729031818208L",
						"publicKey": "6fdfafcd8206c179d351baac5dc104a5ff46453e9d7f27f3e28ef38fc93d7799",
						"balance": "6990000000",
						"vote": "0",
						"multimin": 0,
						"multilifetime": 0,
						"nameexist": 0,
						"producedBlocks": 0,
						"missedBlocks": 0,
						"fees": "0",
						"rewards": "0",
						"asset": {},
						"voteWeight": "1000000000000"
					},
					{
						"address": "2222471382442610527L",
						"publicKey": "caff2242b740a733daa3f3f96fc1592303b60c1704a8ac626e2704da039f41ee",
						"secondPublicKey": null,
						"username": "",
						"isDelegate": false,
						"secondSignature": false,
						"balance": "3000000000",
						"multiMin": 0,
						"multiLifetime": 0,
						"nameExist": false,
						"missedBlocks": 0,
						"producedBlocks": 0,
						"rank": 0,
						"fees": 0,
						"rewards": 0,
						"vote": 0,
						"productivity": 0
					}
				]
			]
		}
	}
}
